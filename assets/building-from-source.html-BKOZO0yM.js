import{_ as t}from"./plugin-vue_export-helper-DlAUqK2U.js";import{o,c as i,b as n,a,d as e}from"./app-BxLWTMi4.js";const c={},l=a(`<h1 id="编译源码" tabindex="-1"><a class="header-anchor" href="#编译源码"><span>编译源码</span></a></h1><h2 id="请先读我" tabindex="-1"><a class="header-anchor" href="#请先读我"><span>请先读我</span></a></h2><div class="hint-container info"><p class="hint-container-title">提示</p><p>一般情况下，你无需编译源码。直接引 为 <code>spring-boot</code> 提供的 <code>starter</code> 即可：</p><ul><li><code>spring-boot-3.x</code> : 引入 <code>jt-808-server-spring-boot-starter</code></li><li><code>spring-boot-2.x</code> : 引入 <code>jt-808-server-spring-boot-starter-boot2</code></li></ul></div><p>如果你要体验最新版 或者 要基于源码二次开发，可以参考下文的说明来编译源码：</p><h2 id="要求" tabindex="-1"><a class="header-anchor" href="#要求"><span>要求</span></a></h2><h3 id="为什么编译源码一定要-jdk17" tabindex="-1"><a class="header-anchor" href="#为什么编译源码一定要-jdk17"><span>为什么编译源码一定要 JDK17？</span></a></h3><div class="hint-container tip"><p class="hint-container-title">为什么编译源码一定要 JDK17？</p><p>因为 <code>jt-808-server-spring-boot-starter</code> 模块是为 <code>spring-boot-3.x</code> 提供的，<code>spring-boot-3.x</code> 必须使用 <code>JDK17+</code>。</p><p>其他模块虽然也用了 <code>JDK17</code>，但是编译级别是 <code>JDK8</code>。</p></div><h3 id="jdk版本要求" tabindex="-1"><a class="header-anchor" href="#jdk版本要求"><span>JDK版本要求</span></a></h3><p>从 <code>2.1.0</code> 开始支持 <code>spring-boot-3.x</code>，所以编译源码的 <code>JDK</code> 版本必须在 <code>JDK-17</code> (包括)以上。</p><div class="hint-container info"><p class="hint-container-title">相关信息</p><p>虽然源码要求的 <code>JDK</code> 版本必须在 <code>17</code> 以上，但是实际上：</p><ul><li>只有 <code>jt-808-server-spring-boot-starter</code> 模块必须使用 <code>JDK-17</code>，编译后的 <code>.class</code> 文件版本为 <code>61</code> (<code>JDK-17</code>)</li><li>其余模块编译后的 <code>.class</code> 文件版本依然是 <code>52</code> (<code>JDK-11</code>)；也就是说使用 <code>JDK17</code> 编译输出了 <code>JDK8</code> 对应的 <code>.class</code></li></ul></div><p>各个模块的 <strong>JDK版本</strong> 见下面表格：</p><table><thead><tr><th>Module</th><th>JDK</th><th>CompileLevel</th><th>.class</th></tr></thead><tbody><tr><td>jt-808-server-spring-boot-starter</td><td>17</td><td><em><strong>JDK-17</strong></em></td><td>61 (JDK-17)</td></tr><tr><td>jt-808-server-spring-boot-starter-boot2</td><td>17</td><td>JDK-8</td><td>52 (JDK-8)</td></tr><tr><td>jt-808-server-spring-boot-autoconfigure</td><td>17</td><td>JDK-8</td><td>52 (JDK-8)</td></tr><tr><td>jt-808-server-support</td><td>17</td><td>JDK-8</td><td>52 (JDK-8)</td></tr><tr><td>jt-808-server-core</td><td>17</td><td>JDK-8</td><td>52 (JDK-8)</td></tr></tbody></table><p>在 <code>gradle.properties</code> 配置文件里有两个 <code>JDK</code> 版本的配置:</p><ul><li><code>maximumJavaVersion</code> 是 <code>jt-808-server-spring-boot-starter</code> 用到的 <strong>JDK版本</strong></li><li><code>defaultJavaVersion</code> 是其余模块用到的</li></ul><div class="language-properties line-numbers-mode" data-ext="properties" data-title="properties"><pre class="language-properties"><code><span class="token comment"># spring-boot-2.x</span>
<span class="token key attr-name">defaultJavaVersion</span><span class="token punctuation">=</span><span class="token value attr-value">8</span>
<span class="token comment"># spring-boot-3.x</span>
<span class="token key attr-name">maximumJavaVersion</span><span class="token punctuation">=</span><span class="token value attr-value">17</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container warning"><p class="hint-container-title">注意</p><ul><li>如果没有特殊需求，不建议对 <code>defaultJavaVersion</code> 降级(改为比 <strong>8</strong> 更低的版本) <ul><li>因为当前源码的最低要求是 <code>JDK8</code></li><li>降级之后可能有一些 <code>Java</code> 语法不兼容</li></ul></li><li><code>maximumJavaVersion</code> 这个配置项必须 <code>&gt;= 17</code>, 因为这个是给 <code>spring-boot-3.x</code> 用的</li><li>但是你可以将 <code>defaultJavaVersion</code> 或 / 和 <code>maximumJavaVersion</code> 升级(改为高版本)</li></ul></div><h3 id="spring-boot版本要求" tabindex="-1"><a class="header-anchor" href="#spring-boot版本要求"><span>spring-boot版本要求</span></a></h3><p>在 <code>gradle.properties</code> 配置文件里有两个 <code>spring-boot</code> 版本的配置:</p><ul><li><code>maximumSpringBootBomVersion</code> 是 <code>jt-808-server-spring-boot-starter</code> 用到的 <code>spring-boot</code> 版本</li><li><code>defaultSpringBootBomVersion</code> 是其余模块用到的 <code>spring-boot</code> 版本</li></ul><div class="language-properties line-numbers-mode" data-ext="properties" data-title="properties"><pre class="language-properties"><code><span class="token comment"># spring-boot-2.x</span>
<span class="token key attr-name">defaultSpringBootBomVersion</span><span class="token punctuation">=</span><span class="token value attr-value">2.7.18</span>
<span class="token comment"># spring-boot-3.x</span>
<span class="token key attr-name">maximumSpringBootBomVersion</span><span class="token punctuation">=</span><span class="token value attr-value">3.3.0</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container info"><p class="hint-container-title">相关信息</p><p>如果没有特殊需求，也没必要修改源码中的 <code>spring-boot</code> 版本。</p><ul><li><code>defaultSpringBootBomVersion</code> 可取值为 <code>[2.2.x, 2.7.18]</code></li><li><code>maximumSpringBootBomVersion</code> 可取值为 <code>[3.0.0, ...)</code></li></ul></div><h2 id="编译" tabindex="-1"><a class="header-anchor" href="#编译"><span>编译</span></a></h2><div class="hint-container warning"><p class="hint-container-title">注意</p><p>不建议自己单独安装 <code>gradle</code>。你应该直接使用项目中指定版本的 <code>gradle-wrapper</code>。</p></div><h3 id="命令行编译" tabindex="-1"><a class="header-anchor" href="#命令行编译"><span>命令行编译</span></a></h3><p>编译命令：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>./gradlew clean build
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><details class="hint-container details"><summary>详情</summary><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>~ <span class="token function">ls</span>
CHANGELOG.md                            gradle.properties                       jt-808-server-support
README.md                               gradlew                                 jt-core
build-script                            gradlew.bat                             jt-spring
build.gradle                            jt-808-server-spring-boot-autoconfigure samples
docs                                    jt-808-server-spring-boot-starter       settings.gradle
gradle                                  jt-808-server-spring-boot-starter-boot2

<span class="token comment"># 使用 项目中自带的 gradlew 来编译</span>
~ ./gradlew clean build

<span class="token operator">&gt;</span> Configure project <span class="token builtin class-name">:</span>
the maven repo credentials <span class="token function">file</span> <span class="token operator">&lt;&lt;</span>repo-credentials.gradle<span class="token operator">&gt;&gt;</span> will be load from <span class="token builtin class-name">:</span> /xxx/xxx/.gradle/repo-credentials.gradle
<span class="token punctuation">[</span><span class="token punctuation">[</span> MavenRepo <span class="token punctuation">]</span><span class="token punctuation">]</span> --<span class="token operator">&gt;</span> <span class="token punctuation">(</span>aliyun<span class="token punctuation">)</span><span class="token punctuation">[</span>release<span class="token punctuation">]</span> <span class="token operator">&lt;</span>-- <span class="token punctuation">[</span>jt-808-server-spring-boot-autoconfigure<span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span> MavenRepo <span class="token punctuation">]</span><span class="token punctuation">]</span> --<span class="token operator">&gt;</span> <span class="token punctuation">(</span>aliyun<span class="token punctuation">)</span><span class="token punctuation">[</span>release<span class="token punctuation">]</span> <span class="token operator">&lt;</span>-- <span class="token punctuation">[</span>jt-808-server-spring-boot-starter<span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span> MavenRepo <span class="token punctuation">]</span><span class="token punctuation">]</span> --<span class="token operator">&gt;</span> <span class="token punctuation">(</span>aliyun<span class="token punctuation">)</span><span class="token punctuation">[</span>release<span class="token punctuation">]</span> <span class="token operator">&lt;</span>-- <span class="token punctuation">[</span>jt-808-server-spring-boot-starter-boot2<span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span> MavenRepo <span class="token punctuation">]</span><span class="token punctuation">]</span> --<span class="token operator">&gt;</span> <span class="token punctuation">(</span>aliyun<span class="token punctuation">)</span><span class="token punctuation">[</span>release<span class="token punctuation">]</span> <span class="token operator">&lt;</span>-- <span class="token punctuation">[</span>jt-808-server-support<span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span> MavenRepo <span class="token punctuation">]</span><span class="token punctuation">]</span> --<span class="token operator">&gt;</span> <span class="token punctuation">(</span>aliyun<span class="token punctuation">)</span><span class="token punctuation">[</span>release<span class="token punctuation">]</span> <span class="token operator">&lt;</span>-- <span class="token punctuation">[</span>jt-core<span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span> MavenRepo <span class="token punctuation">]</span><span class="token punctuation">]</span> --<span class="token operator">&gt;</span> <span class="token punctuation">(</span>aliyun<span class="token punctuation">)</span><span class="token punctuation">[</span>release<span class="token punctuation">]</span> <span class="token operator">&lt;</span>-- <span class="token punctuation">[</span>jt-spring<span class="token punctuation">]</span>

BUILD SUCCESSFUL <span class="token keyword">in</span> 7s
<span class="token number">73</span> actionable tasks: <span class="token number">71</span> executed, <span class="token number">2</span> up-to-date
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><h3 id="导入idea" tabindex="-1"><a class="header-anchor" href="#导入idea"><span>导入Idea</span></a></h3><div class="hint-container warning"><p class="hint-container-title">注意</p><ul><li>请先给 <strong>Idea</strong> 装好 <code>lombok</code> 插件</li><li>请确保 <code>jdk.version &gt;= 17</code></li></ul></div><ul><li>1). 项目 <strong>JDK版本</strong> 配置：</li></ul>`,30),r={class:""},p=["src"],d=n("ul",null,[n("li",null,[e("2). "),n("code",null,"Gradle"),e(),n("code",null,"JDK版本"),e(" 配置:")])],-1),u=n("p",null,[e("打开 "),n("code",null,"idea"),e(" 的 "),n("code",null,"gradle"),e(" 配置界面:")],-1),g={class:""},v=["src"],m=n("p",null,[e("修改 "),n("code",null,"gradle"),e(" 用到的 "),n("strong",null,"JDK版本"),e(" 为 "),n("strong",null,"JDK17+")],-1),h={class:""},b=["src"],k=a('<h3 id="导入eclipse" tabindex="-1"><a class="header-anchor" href="#导入eclipse"><span>导入Eclipse</span></a></h3><div class="hint-container warning"><p class="hint-container-title">注意</p><ul><li>请先给 <strong>Eclipse</strong> 装好 <code>lombok</code> 插件</li><li>请确保 <code>jdk.version &gt;= 17</code></li></ul></div><div class="hint-container caution"><p class="hint-container-title">第一次导入报错</p><ul><li>先执行 <code>./gradlew eclipse</code> 命令，为 <code>eclipse</code> 生成配置。</li><li>然后 <code>refresh</code> 所有模块</li></ul></div><p>导入后，效果如下：</p>',4),x={class:""},f=["src"];function j(s,J){return o(),i("div",null,[l,n("p",r,[n("img",{src:s.$withBase("/img/v2/quick-start/build-from-source/idea-project-structure.png")},null,8,p)]),d,u,n("p",g,[n("img",{src:s.$withBase("/img/v2/quick-start/build-from-source/gradle-jdk-step-1.png")},null,8,v)]),m,n("p",h,[n("img",{src:s.$withBase("/img/v2/quick-start/build-from-source/gradle-jdk-step-2.png")},null,8,b)]),k,n("p",x,[n("img",{src:s.$withBase("/img/v2/quick-start/build-from-source/eclipse-project-view.png")},null,8,f)])])}const K=t(c,[["render",j],["__file","building-from-source.html.vue"]]),y=JSON.parse('{"path":"/v2/jt-808/guide/quick-start/building-from-source.html","title":"编译源码","lang":"zh-CN","frontmatter":{"icon":"code","description":"编译源码 请先读我 提示 一般情况下，你无需编译源码。直接引 为 spring-boot 提供的 starter 即可： spring-boot-3.x : 引入 jt-808-server-spring-boot-starter spring-boot-2.x : 引入 jt-808-server-spring-boot-starter-boot2 ...","head":[["meta",{"property":"og:url","content":"https://github.com/hylexus/jt-framework/jt-framework/v2/jt-808/guide/quick-start/building-from-source.html"}],["meta",{"property":"og:site_name","content":"jt-framework"}],["meta",{"property":"og:title","content":"编译源码"}],["meta",{"property":"og:description","content":"编译源码 请先读我 提示 一般情况下，你无需编译源码。直接引 为 spring-boot 提供的 starter 即可： spring-boot-3.x : 引入 jt-808-server-spring-boot-starter spring-boot-2.x : 引入 jt-808-server-spring-boot-starter-boot2 ..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-08-03T11:17:16.000Z"}],["meta",{"property":"article:author","content":"hylexus"}],["meta",{"property":"article:modified_time","content":"2024-08-03T11:17:16.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"编译源码\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-08-03T11:17:16.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"hylexus\\",\\"url\\":\\"https://github.com/hylexus\\"}]}"]]},"headers":[{"level":2,"title":"请先读我","slug":"请先读我","link":"#请先读我","children":[]},{"level":2,"title":"要求","slug":"要求","link":"#要求","children":[{"level":3,"title":"为什么编译源码一定要 JDK17？","slug":"为什么编译源码一定要-jdk17","link":"#为什么编译源码一定要-jdk17","children":[]},{"level":3,"title":"JDK版本要求","slug":"jdk版本要求","link":"#jdk版本要求","children":[]},{"level":3,"title":"spring-boot版本要求","slug":"spring-boot版本要求","link":"#spring-boot版本要求","children":[]}]},{"level":2,"title":"编译","slug":"编译","link":"#编译","children":[{"level":3,"title":"命令行编译","slug":"命令行编译","link":"#命令行编译","children":[]},{"level":3,"title":"导入Idea","slug":"导入idea","link":"#导入idea","children":[]},{"level":3,"title":"导入Eclipse","slug":"导入eclipse","link":"#导入eclipse","children":[]}]}],"git":{"createdTime":1674376320000,"updatedTime":1722683836000,"contributors":[{"name":"hylexus","email":"hylexus@163.com","commits":4}]},"readingTime":{"minutes":3.1,"words":930},"filePathRelative":"v2/jt-808/guide/quick-start/building-from-source.md","localizedDate":"2023年1月22日","autoDesc":true,"excerpt":"\\n<h2>请先读我</h2>\\n<div class=\\"hint-container info\\">\\n<p class=\\"hint-container-title\\">提示</p>\\n<p>一般情况下，你无需编译源码。直接引 为 <code>spring-boot</code> 提供的 <code>starter</code> 即可：</p>\\n<ul>\\n<li><code>spring-boot-3.x</code> : 引入 <code>jt-808-server-spring-boot-starter</code></li>\\n<li><code>spring-boot-2.x</code> : 引入 <code>jt-808-server-spring-boot-starter-boot2</code></li>\\n</ul>\\n</div>"}');export{K as comp,y as data};
